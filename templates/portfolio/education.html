{% extends 'portfolio/base.html' %}
{% load static %}

{% block title %}Education - {{ personal_info.name|default:"Jem Andrew" }}{% endblock %}
{% block page_name %}education{% endblock %}

{% block content %}
<div class="main-container">

  <!-- LEFT: Dissertations stack -->
  <div class="left-side">
    <div class="section-head">
      <h2 class="page-title" style="margin:0;">Academic Journey</h2>
      <div class="section-divider" style="margin-top:.75rem;"></div>
        <p class="content-intro" style="max-width:52ch;margin-top:1rem;">
            From biology to computer science — a path driven by curiosity about how
            things work and a love for solving complex problems through code.
        </p>
    </div>

    <div class="dissertation-downloads">
      <!-- MSc Dissertation -->
      <div class="dissertation-card">
        <div class="paper-stack">
          <div class="paper-base"></div>
          <div class="paper-middle"></div>
          <div class="paper-top">
            <h3 class="dissertation-title">MSc Dissertation</h3>
            <h4 class="dissertation-subtitle">
              CNN Architectures for Automated Skin Cancer Detection
            </h4>
            <div class="dissertation-meta">
              <span class="university-badge">Newcastle University</span>
              <span class="file-size">2.3 MB</span>
            </div>
            <div style="margin-top: 1rem;">
              <span class="skill-tag">PyTorch</span>
              <span class="skill-tag">CNN</span>
              <span class="skill-tag">Medical AI</span>
            </div>
          </div>
        </div>
        <div class="download-reveal">
          {# Use your URL route if it exists: portfolio:download_msc #}
          <a href="{% url 'portfolio:download_msc' %}" class="download-button">
            <i class="fas fa-download"></i> Download PDF
          </a>
          {# If you don't have the route yet, comment the url above and use a static file instead:
          <a href="{% static 'documents/MSc_Dissertation.pdf' %}" class="download-button" target="_blank" rel="noopener">
            <i class="fas fa-download"></i> Download PDF
          </a>
          #}
        </div>
      </div>

      <!-- BSc Dissertation -->
      <div class="dissertation-card">
        <div class="paper-stack">
          <div class="paper-base"></div>
          <div class="paper-middle"></div>
          <div class="paper-top">
            <h3 class="dissertation-title">BSc Dissertation</h3>
            <h4 class="dissertation-subtitle">
              CRISPR Gene Editing in Wheat and Barley Disease Resistance
            </h4>
            <div class="dissertation-meta">
              <span class="university-badge">Newcastle University</span>
              <span class="file-size">1.8 MB</span>
            </div>
            <div style="margin-top: 1rem;">
              <span class="skill-tag">R</span>
              <span class="skill-tag">Bioinformatics</span>
              <span class="skill-tag">CRISPR</span>
            </div>
          </div>
        </div>
        <div class="download-reveal">
          {# Use your URL route if it exists: portfolio:download_bsc #}
          <a href="{% url 'portfolio:download_bsc' %}" class="download-button">
            <i class="fas fa-download"></i> Download PDF
          </a>
          {# Static fallback:
          <a href="{% static 'documents/BSc_Dissertation.pdf' %}" class="download-button" target="_blank" rel="noopener">
            <i class="fas fa-download"></i> Download PDF
          </a>
          #}
        </div>
      </div>
    </div>
  </div>

  <!-- RIGHT: Education background -->
  <div class="right-side">
    <div class="timeline-section">
      <h2 class="section-title">My Degrees</h2>

      {% for education in education_list %}
      <div class="timeline-item">
        <div class="degree-title">{{ education.get_degree_type_display }} {{ education.subject }}</div>
        <div class="institution">{{ education.institution }}</div>
        <div class="duration">
          {{ education.start_date.year }} -
          {% if education.is_current %}Present{% else %}{{ education.end_date.year }}{% endif %}
          {% if education.grade %} • {{ education.grade }}{% endif %}
        </div>

        {% if education.degree_type == "MSc" and education.modules %}
        <div style="margin: 1.5rem 0;">
          <h5 style="color: var(--text-white); font-size: 0.95rem; margin-bottom: 1rem; font-weight: 500;">Key Modules & Marks:</h5>
          <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 0.5rem;">
            {% for module in education.modules|slice:":6" %}
            <div style="display: flex; justify-content: space-between; padding: 0.4rem; background: rgba(255, 255, 255, 0.05); border-radius: 0.5rem;">
              <span style="color: var(--text-gray); font-size: 0.85rem;">{{ module.name }}</span>
              <span style="color: var(--text-white); font-weight: 500; font-size: 0.85rem;">{{ module.grade }}%</span>
            </div>
            {% endfor %}
          </div>
        </div>
        {% endif %}

        <p class="degree-description">
          Dissertation: {{ education.description }}
        </p>

        <div class="skills-tags">
          {% for tech in education.technologies_list %}
            <span class="skill-tag">{{ tech }}</span>
          {% endfor %}
        </div>
      </div>
      {% empty %}
      <!-- Fallback content -->
      <div class="timeline-item">
        <div class="degree-title">MSc Computer Science</div>
        <div class="institution">Newcastle University</div>
        <div class="duration">2024 - 2025 • Merit</div>
        <p class="degree-description">
          Dissertation: Comparison of Novel vs Standard CNN Architectures for Automated Skin Cancer Detection.
        </p>
        <div class="skills-tags">
          <span class="skill-tag">PyTorch</span>
          <span class="skill-tag">Python</span>
          <span class="skill-tag">Machine Learning</span>
          <span class="skill-tag">CNN</span>
          <span class="skill-tag">Medical AI</span>
        </div>
      </div>
      {% endfor %}
    </div>

    <div style="margin-top: 3rem;">
      <h2 class="section-title">Key Takeaways</h2>
      <div class="achievements-grid">
        <div class="achievement-item">
          <span class="achievement-number">84%</span>
          <span class="achievement-label">Top Module Score</span>
        </div>
        <div class="achievement-item">
          <span class="achievement-number">15%</span>
          <span class="achievement-label">AI Improvement</span>
        </div>
        <div class="achievement-item">
          <span class="achievement-number">83%</span>
          <span class="achievement-label">BSc Dissertation</span>
        </div>
        <div class="achievement-item">
          <span class="achievement-number">Bio→CS</span>
          <span class="achievement-label">Career Pivot</span>
        </div>
      </div>
    </div>
  </div>

</div>
{% endblock %}
